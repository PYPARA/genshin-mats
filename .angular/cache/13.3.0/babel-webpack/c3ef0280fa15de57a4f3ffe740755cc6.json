{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../_services/environment-path.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction CharacterComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"img\", 13);\n    i0.ɵɵlistener(\"click\", function CharacterComponent_div_14_Template_img_click_2_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.chooseCharacter();\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 14)(4, \"div\", 15)(5, \"label\", 16);\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 15)(8, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.character.name = $event;\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 15)(11, \"label\", 19);\n    i0.ɵɵtext(12, \"Level\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 15)(14, \"div\", 20)(15, \"input\", 21, 22);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.character.level = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_15_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.checkAscension(\"c\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 23);\n    i0.ɵɵelement(18, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 20)(20, \"input\", 25, 26);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.character.tlevel = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_20_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.checkAscension(\"t\");\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 15)(23, \"label\", 27);\n    i0.ɵɵtext(24, \"Ascension\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 15)(26, \"div\", 20)(27, \"input\", 28, 29);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.character.ascension = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_27_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.checkLevel(\"c\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 23);\n    i0.ɵɵelement(30, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 20)(32, \"input\", 30, 31);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.character.tascension = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_32_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.checkLevel(\"t\");\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(34, \"div\", 14)(35, \"div\", 15)(36, \"div\", 32)(37, \"div\", 15)(38, \"label\", 33);\n    i0.ɵɵtext(39, \" Basic Attack Level \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 15)(41, \"div\", 20)(42, \"input\", 34, 35);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_42_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.character.balevel = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_42_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.checkTalent(\"tba\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"div\", 23);\n    i0.ɵɵelement(45, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 20)(47, \"input\", 36, 37);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_47_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.character.tbalevel = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_47_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.checkTalent(\"cba\");\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(49, \"div\", 15)(50, \"div\", 32)(51, \"div\", 15)(52, \"label\", 38);\n    i0.ɵɵtext(53, \" Elemental Skill Level \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"div\", 15)(55, \"div\", 20)(56, \"input\", 39, 40);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_56_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.character.eslevel = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_56_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.checkTalent(\"tes\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(58, \"div\", 23);\n    i0.ɵɵelement(59, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"div\", 20)(61, \"input\", 41, 42);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_61_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.character.teslevel = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_61_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return ctx_r32.checkTalent(\"ces\");\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(63, \"div\", 15)(64, \"div\", 32)(65, \"div\", 15)(66, \"label\", 43);\n    i0.ɵɵtext(67, \" Elemental Burst Level \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(68, \"div\", 15)(69, \"div\", 20)(70, \"input\", 44, 45);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_70_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.character.eblevel = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_70_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return ctx_r34.checkTalent(\"teb\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(72, \"div\", 23);\n    i0.ɵɵelement(73, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"div\", 20)(75, \"input\", 46, 47);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_14_Template_input_ngModelChange_75_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return ctx_r35.character.teblevel = $event;\n    })(\"keyup\", function CharacterComponent_div_14_Template_input_keyup_75_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return ctx_r36.checkTalent(\"ceb\");\n    });\n    i0.ɵɵelementEnd()()()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.character.file, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.name);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.level);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.tlevel);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.ascension);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.tascension);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.balevel);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.tbalevel);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.eslevel);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.teslevel);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.eblevel);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.character.teblevel);\n  }\n}\n\nfunction CharacterComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"img\", 48);\n    i0.ɵɵlistener(\"click\", function CharacterComponent_div_15_Template_img_click_2_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return ctx_r42.chooseWeapon();\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 14)(4, \"div\", 15)(5, \"label\", 16);\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 15)(8, \"input\", 49, 50);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_15_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return ctx_r44.character.weapon.name = $event;\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 15)(11, \"label\", 51);\n    i0.ɵɵtext(12, \"Level\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 15)(14, \"div\", 20)(15, \"input\", 52, 53);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_15_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r45 = i0.ɵɵnextContext();\n      return ctx_r45.character.weapon.level = $event;\n    })(\"keyup\", function CharacterComponent_div_15_Template_input_keyup_15_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return ctx_r46.checkWAscension(\"c\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 23);\n    i0.ɵɵelement(18, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 20)(20, \"input\", 54, 55);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_15_Template_input_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return ctx_r47.character.weapon.tlevel = $event;\n    })(\"keyup\", function CharacterComponent_div_15_Template_input_keyup_20_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.checkWAscension(\"t\");\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 15)(23, \"label\", 27);\n    i0.ɵɵtext(24, \"Ascension\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 15)(26, \"div\", 20)(27, \"input\", 56, 57);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_15_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return ctx_r49.character.weapon.ascension = $event;\n    })(\"keyup\", function CharacterComponent_div_15_Template_input_keyup_27_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return ctx_r50.checkWLevel(\"c\");\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 23);\n    i0.ɵɵelement(30, \"i\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 20)(32, \"input\", 58, 59);\n    i0.ɵɵlistener(\"ngModelChange\", function CharacterComponent_div_15_Template_input_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return ctx_r51.character.weapon.tascension = $event;\n    })(\"keyup\", function CharacterComponent_div_15_Template_input_keyup_32_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return ctx_r52.checkWLevel(\"t\");\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(34, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r2.character.weapon.file, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.character.weapon.name);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.character.weapon.level);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.character.weapon.tlevel);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.character.weapon.ascension);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.character.weapon.tascension);\n  }\n}\n\nexport let CharacterComponent = /*#__PURE__*/(() => {\n  class CharacterComponent {\n    constructor(url) {\n      this.url = url;\n      this.deleteCharacter = new EventEmitter();\n      this.setWeapon = new EventEmitter();\n      this.setCharacter = new EventEmitter();\n      this.path = this.url.getUrl(\"./../../assets/resources/characters/\", true);\n      this.weaponPath = this.url.getUrl(\"./../../assets/resources/weapons/\", true);\n      this.levels = [1, 20, 40, 50, 60, 70, 80, 90];\n      this.ascensions = [0, 1, 2, 3, 4, 5, 6, 7];\n      this.talents = [1, 1, 2, 4, 6, 8, 10];\n      this.weaponFilter = \"\";\n      this.allWeapons = [];\n      this.filteredWeapons = [];\n      this.weaponTitle = \"Set weapon\";\n    }\n\n    ngOnInit() {\n      this.character.file = this.path + this.character.file + \".png\";\n      this.setDefaultWeapon();\n    }\n    /**\r\n     * Displays list of selectble weapons\r\n     */\n\n\n    chooseCharacter() {\n      this.setCharacter.emit(this.character.name);\n    }\n    /**\r\n     * Tells the parent component that the trash button was clicked\r\n     */\n\n\n    removeCharacter() {\n      this.deleteCharacter.emit(this.character.name);\n    }\n    /**\r\n     * Makes the character visible or invisible in the materials table\r\n     */\n\n\n    toggleCharacterDisplay() {\n      this.character.display = !this.character.display;\n    }\n    /**\r\n     * Filters the list of weapons to give the weapons the character can wield\r\n     */\n\n\n    showCharacterWeapons() {\n      this.character.weaponMode = !this.character.weaponMode;\n      this.weaponTitle = this.character.weaponMode ? \"View character\" : \"Set weapon\";\n      this.setDefaultWeapon();\n    }\n    /**\r\n     * Sets a default weapon\r\n     */\n\n\n    setDefaultWeapon() {\n      if (this.character.weapon.file == \"\") {\n        let weaponType = this.charData[this.character.name].weapon;\n        let defaultWeapon;\n\n        for (let weapon in this.weaponData) {\n          if (this.weaponData[weapon].type == weaponType && this.weaponData[weapon].rarity == 1) {\n            defaultWeapon = weapon;\n            break;\n          }\n        }\n\n        this.character.weapon.file = this.weaponPath + defaultWeapon.replace(/ /g, \"_\") + \".png\";\n        this.character.weapon.name = defaultWeapon;\n      } else if (!this.character.weapon.file.includes(\".png\")) {\n        this.character.weapon.file = this.weaponPath + this.character.weapon.file.replace(/ /g, \"_\") + \".png\";\n      }\n    }\n    /**\r\n     * Displays list of selectble weapons\r\n     */\n\n\n    chooseWeapon() {\n      this.setWeapon.emit(this.character.name);\n    }\n    /**\r\n     * Checks if ascension of character needs to be adjusted with change in level,\r\n     * and checks for related consequential changes\r\n     * @param type c or t, c meaning current and t meaning target\r\n     */\n\n\n    checkAscension(type) {\n      switch (type) {\n        case \"c\":\n          if (this.character.ascension == null || this.character.ascension < 0 || this.character.ascension > 6) return;\n          this.syncAscToLevel();\n          this.syncTlevelToLevel();\n          this.syncTascToTlevel();\n          this.syncTalentToAsc();\n          break;\n\n        case \"t\":\n          if (this.character.tascension == null || this.character.tascension < 0 || this.character.tascension > 6) return;\n          this.syncTascToTlevel();\n          this.syncAscToTasc();\n          this.syncLevelToTlevel();\n          this.syncTtalentToTasc();\n          break;\n      }\n    }\n    /**\r\n     * Checks if level of character needs to be adjusted with change in ascension,\r\n     * and checks for related consequential changes\r\n     * @param type c or t, c meaning current and t meaning target\r\n     */\n\n\n    checkLevel(type) {\n      switch (type) {\n        case \"c\":\n          if (this.character.ascension == null || this.character.ascension < 0 || this.character.ascension > 6) return;\n          this.syncLevelToAsc();\n          this.syncTascToAsc();\n          this.syncTlevelToTasc();\n          this.syncTalentToAsc();\n          break;\n\n        case \"t\":\n          if (this.character.tascension == null || this.character.tascension < 0 || this.character.tascension > 6) return;\n          this.syncTlevelToTasc();\n          this.syncAscToTasc();\n          this.syncLevelToAsc();\n          this.syncTtalentToTasc();\n          break;\n      }\n    }\n    /**\r\n     * Checks if talent of character needs to be adjusted with change in talent,\r\n     * and checks for related consequential changes\r\n     * @param type\r\n     *     cba - current base attack level\r\n     *     tba - target base attack level\r\n     *     ces - current elemental skill level\r\n     *     tes - target elemental skill level\r\n     *     ceb - current elemental burst level\r\n     *     teb - target elemental burst level\r\n     */\n\n\n    checkTalent(type) {\n      switch (type) {\n        case \"cba\":\n          if (this.character.tbalevel == null || this.character.tbalevel < 0 || this.character.tbalevel > 10) return;\n          this.syncTalentToTtalent(\"ba\");\n          this.syncTAscToTtalent();\n          break;\n\n        case \"tba\":\n          if (this.character.balevel == null || this.character.balevel < 0 || this.character.balevel > 10) return;\n          this.syncTtalentToTalent(\"ba\");\n          this.syncAscToTalent();\n          break;\n\n        case \"ces\":\n          if (this.character.teslevel == null || this.character.teslevel < 0 || this.character.teslevel > 10) return;\n          this.syncTalentToTtalent(\"es\");\n          this.syncTAscToTtalent();\n          break;\n\n        case \"tes\":\n          if (this.character.eslevel == null || this.character.eslevel < 0 || this.character.eslevel > 10) return;\n          this.syncTtalentToTalent(\"es\");\n          this.syncAscToTalent();\n          break;\n\n        case \"ceb\":\n          if (this.character.teblevel == null || this.character.teblevel < 0 || this.character.teblevel > 10) return;\n          this.syncTalentToTtalent(\"eb\");\n          this.syncTAscToTtalent();\n          break;\n\n        case \"teb\":\n          if (this.character.eblevel == null || this.character.eblevel < 0 || this.character.eblevel > 10) return;\n          this.syncTtalentToTalent(\"eb\");\n          this.syncAscToTalent();\n          break;\n      }\n    }\n    /**\r\n     * Methods adjusting attributes\r\n     */\n\n\n    syncAscToLevel() {\n      if (this.character.level >= this.levels[this.character.ascension] && this.character.level <= this.levels[this.character.ascension + 1]) {} else {\n        let previous = 0;\n\n        for (let i = 0; i < this.levels.length; i++) {\n          if (previous == 0) {\n            previous = this.levels[i];\n            continue;\n          }\n\n          if (this.character.level >= previous && this.character.level <= this.levels[i]) {\n            this.character.ascension = this.ascensions[i] - 1;\n            break;\n          }\n\n          previous = this.levels[i];\n        }\n      }\n    }\n\n    syncTlevelToLevel() {\n      if (this.character.level > this.character.tlevel) {\n        this.character.tlevel = this.character.level;\n      }\n    }\n\n    syncLevelToTlevel() {\n      if (this.character.level > this.character.tlevel) {\n        this.character.level = this.character.tlevel;\n      }\n    }\n\n    syncTascToTlevel() {\n      if (this.character.tlevel >= this.levels[this.character.tascension] && this.character.tlevel <= this.levels[this.character.tascension + 1]) {} else {\n        let previous = 0;\n\n        for (let i = 0; i < this.levels.length; i++) {\n          if (previous == 0) {\n            previous = this.levels[i];\n            continue;\n          }\n\n          if (this.character.tlevel >= previous && this.character.tlevel <= this.levels[i]) {\n            this.character.tascension = this.ascensions[i] - 1;\n            break;\n          }\n\n          previous = this.levels[i];\n        }\n      }\n    }\n\n    syncLevelToAsc() {\n      if (this.character.level >= this.levels[this.character.ascension] && this.character.level <= this.levels[this.character.ascension + 1]) {} else {\n        for (let i = 0; i < this.ascensions.length; i++) {\n          if (this.character.ascension == this.ascensions[i]) {\n            this.character.level = this.levels[i];\n            break;\n          }\n        }\n      }\n    }\n\n    syncTascToAsc() {\n      if (this.character.ascension > this.character.tascension) {\n        this.character.tascension = this.character.ascension;\n        this.syncTtalentToTasc();\n      }\n    }\n\n    syncTlevelToTasc() {\n      if (this.character.tlevel >= this.levels[this.character.tascension] && this.character.tlevel <= this.levels[this.character.tascension + 1]) {} else {\n        for (let i = 0; i < this.ascensions.length; i++) {\n          if (this.character.tascension == this.ascensions[i]) {\n            this.character.tlevel = this.levels[i + 1];\n            break;\n          }\n        }\n      }\n    }\n\n    syncAscToTasc() {\n      if (this.character.ascension > this.character.tascension) {\n        this.character.ascension = this.character.tascension;\n      }\n    }\n\n    syncTtalentToTasc() {\n      if (this.character.tbalevel >= this.talents[this.character.tascension] && this.character.tbalevel <= this.talents[this.character.tascension - 1]) {} else {\n        for (let i = 0; i < this.ascensions.length; i++) {\n          if (this.character.tascension == this.ascensions[i]) {\n            this.character.tbalevel = this.talents[i];\n            this.syncTalentToTtalent(\"ba\");\n            break;\n          }\n        }\n      }\n\n      if (this.character.teslevel >= this.talents[this.character.tascension] && this.character.teslevel <= this.talents[this.character.tascension - 1]) {} else {\n        for (let i = 0; i < this.ascensions.length; i++) {\n          if (this.character.tascension == this.ascensions[i]) {\n            this.character.teslevel = this.talents[i];\n            this.syncTalentToTtalent(\"es\");\n            break;\n          }\n        }\n      }\n\n      if (this.character.teblevel >= this.talents[this.character.tascension] && this.character.teblevel <= this.talents[this.character.tascension - 1]) {} else {\n        for (let i = 0; i < this.ascensions.length; i++) {\n          if (this.character.tascension == this.ascensions[i]) {\n            this.character.teblevel = this.talents[i];\n            this.syncTalentToTtalent(\"eb\");\n            break;\n          }\n        }\n      }\n    }\n\n    syncTalentToAsc() {\n      if (this.character.balevel >= this.talents[this.character.ascension]) this.character.balevel = this.talents[this.character.ascension];\n      if (this.character.eslevel >= this.talents[this.character.ascension]) this.character.eslevel = this.talents[this.character.ascension];\n      if (this.character.eblevel >= this.talents[this.character.ascension]) this.character.eblevel = this.talents[this.character.ascension];\n    }\n\n    syncTtalentToTalent(type) {\n      switch (type) {\n        case \"ba\":\n          if (this.character.balevel > this.character.tbalevel) this.character.tbalevel = this.character.balevel;\n          break;\n\n        case \"es\":\n          if (this.character.eslevel > this.character.teslevel) this.character.teslevel = this.character.eslevel;\n          break;\n\n        case \"eb\":\n          if (this.character.eblevel > this.character.teblevel) this.character.teblevel = this.character.eblevel;\n          break;\n      }\n    }\n\n    syncAscToTalent() {\n      let highestTalent = Math.max(this.character.balevel, this.character.eslevel, this.character.eblevel);\n\n      if (this.talents[this.character.ascension] < highestTalent) {\n        let previous = 0;\n\n        for (let i = 0; i < this.talents.length; i++) {\n          if (previous == 0) {\n            previous = this.talents[i];\n            continue;\n          }\n\n          if (highestTalent >= previous && highestTalent <= this.talents[i]) {\n            this.character.ascension = this.ascensions[i];\n            break;\n          }\n\n          previous = this.talents[i];\n        }\n\n        this.syncLevelToAsc();\n        this.syncTascToAsc();\n      }\n    }\n\n    syncTalentToTtalent(type) {\n      switch (type) {\n        case \"ba\":\n          if (this.character.balevel > this.character.tbalevel) this.character.balevel = this.character.tbalevel;\n          break;\n\n        case \"es\":\n          if (this.character.eslevel > this.character.teslevel) this.character.eslevel = this.character.teslevel;\n          break;\n\n        case \"eb\":\n          if (this.character.eblevel > this.character.teblevel) this.character.eblevel = this.character.teblevel;\n          break;\n      }\n    }\n\n    syncTAscToTtalent() {\n      let highestTalent = Math.max(this.character.tbalevel, this.character.teslevel, this.character.teblevel);\n\n      if (this.talents[this.character.tascension] < highestTalent) {\n        let previous = 0;\n\n        for (let i = 0; i < this.talents.length; i++) {\n          if (previous == 0) {\n            previous = this.talents[i];\n            continue;\n          }\n\n          if (highestTalent >= previous && highestTalent <= this.talents[i]) {\n            this.character.tascension = this.ascensions[i] - 1;\n            break;\n          }\n\n          previous = this.talents[i];\n        }\n\n        this.syncTlevelToTasc();\n        this.syncAscToTasc();\n        this.syncLevelToAsc();\n      }\n    }\n    /**\r\n     * Checks if ascension of weapon needs to be adjusted with change in level\r\n     * @param type c or t, c meaning current and t meaning target\r\n     */\n\n\n    checkWAscension(type) {\n      let maxAsc = this.character.weapon.rarity < 3 ? 4 : 6;\n\n      switch (type) {\n        case \"c\":\n          if (this.character.weapon.ascension == null || this.character.weapon.ascension < 0 || this.character.weapon.ascension > maxAsc) return;\n          this.syncWAscToWLevel();\n          this.syncWTlevelToWLevel();\n          this.syncWTascToWTlevel();\n          break;\n\n        case \"t\":\n          if (this.character.weapon.tascension == null || this.character.weapon.tascension < 0 || this.character.weapon.tascension > maxAsc) return;\n          this.syncWTascToWTlevel();\n          this.syncWAscToWTasc();\n          this.syncWLevelToWTlevel();\n          break;\n      }\n    }\n    /**\r\n     * Checks if level of weapon needs to be adjusted with change in ascension\r\n     * @param type c or t, c meaning current and t meaning target\r\n     */\n\n\n    checkWLevel(type) {\n      let maxAsc = this.character.weapon.rarity < 3 ? 4 : 6;\n\n      switch (type) {\n        case \"c\":\n          if (this.character.ascension == null || this.character.ascension < 0 || this.character.ascension > maxAsc) return;\n          this.syncWLevelToWAsc();\n          this.syncWTascToWAsc();\n          this.syncWTlevelToWTasc();\n          break;\n\n        case \"t\":\n          if (this.character.weapon.tascension == null || this.character.weapon.tascension < 0 || this.character.weapon.tascension > maxAsc) return;\n          this.syncWTlevelToWTasc();\n          this.syncWAscToWTasc();\n          this.syncWLevelToWAsc();\n          break;\n      }\n    }\n    /**\r\n     * Methods adjusting attributes\r\n     */\n\n\n    syncWAscToWLevel() {\n      if (this.character.weapon.level >= this.levels[this.character.weapon.ascension] && this.character.weapon.level <= this.levels[this.character.weapon.ascension + 1]) {} else {\n        let previous = 0;\n\n        for (let i = 0; i < this.levels.length; i++) {\n          if (previous == 0) {\n            previous = this.levels[i];\n            continue;\n          }\n\n          if (this.character.weapon.level >= previous && this.character.weapon.level <= this.levels[i]) {\n            this.character.weapon.ascension = this.ascensions[i] - 1;\n            break;\n          }\n\n          previous = this.levels[i];\n        }\n      }\n    }\n\n    syncWTlevelToWLevel() {\n      if (this.character.weapon.level > this.character.weapon.tlevel) {\n        this.character.weapon.tlevel = this.character.weapon.level;\n      }\n    }\n\n    syncWTascToWTlevel() {\n      if (this.character.weapon.tlevel >= this.levels[this.character.weapon.tascension] && this.character.weapon.tlevel <= this.levels[this.character.weapon.tascension + 1]) {} else {\n        let previous = 0;\n\n        for (let i = 0; i < this.levels.length; i++) {\n          if (previous == 0) {\n            previous = this.levels[i];\n            continue;\n          }\n\n          if (this.character.weapon.tlevel >= previous && this.character.weapon.tlevel <= this.levels[i]) {\n            this.character.weapon.tascension = this.ascensions[i] - 1;\n            break;\n          }\n\n          previous = this.levels[i];\n        }\n      }\n    }\n\n    syncWAscToWTasc() {\n      if (this.character.weapon.ascension > this.character.weapon.tascension) {\n        this.character.weapon.ascension = this.character.weapon.tascension;\n      }\n    }\n\n    syncWLevelToWTlevel() {\n      if (this.character.weapon.level > this.character.weapon.tlevel) {\n        this.character.weapon.level = this.character.weapon.tlevel;\n      }\n    }\n\n    syncWLevelToWAsc() {\n      if (this.character.weapon.level >= this.levels[this.character.weapon.ascension] && this.character.weapon.level <= this.levels[this.character.weapon.ascension + 1]) {} else {\n        for (let i = 0; i < this.ascensions.length; i++) {\n          if (this.character.weapon.ascension == this.ascensions[i]) {\n            this.character.weapon.level = this.levels[i];\n            break;\n          }\n        }\n      }\n    }\n\n    syncWTascToWAsc() {\n      if (this.character.weapon.ascension > this.character.weapon.tascension) {\n        this.character.weapon.tascension = this.character.weapon.ascension;\n      }\n    }\n\n    syncWTlevelToWTasc() {\n      if (this.character.weapon.tlevel >= this.levels[this.character.weapon.tascension] && this.character.weapon.tlevel <= this.levels[this.character.weapon.tascension + 1]) {} else {\n        for (let i = 0; i < this.ascensions.length; i++) {\n          if (this.character.weapon.tascension == this.ascensions[i]) {\n            this.character.weapon.tlevel = this.levels[i + 1];\n            break;\n          }\n        }\n      }\n    }\n\n  }\n\n  CharacterComponent.ɵfac = function CharacterComponent_Factory(t) {\n    return new (t || CharacterComponent)(i0.ɵɵdirectiveInject(i1.EnvironmentPathService));\n  };\n\n  CharacterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CharacterComponent,\n    selectors: [[\"app-character\"]],\n    inputs: {\n      character: \"character\",\n      charData: \"charData\",\n      weaponData: \"weaponData\"\n    },\n    outputs: {\n      deleteCharacter: \"deleteCharacter\",\n      setWeapon: \"setWeapon\",\n      setCharacter: \"setCharacter\"\n    },\n    decls: 16,\n    vars: 5,\n    consts: [[1, \"character\", \"col-lg-5\"], [\"characterForm\", \"ngForm\"], [1, \"row\", \"text-left\", \"character-card\"], [1, \"controls\"], [1, \"button-container\"], [\"type\", \"button\", \"title\", \"Remove character\", 3, \"click\"], [1, \"fas\", \"trash\"], [\"type\", \"button\", \"title\", \"Hide character from mats table\", 3, \"click\"], [1, \"fas\", 3, \"ngClass\"], [\"type\", \"button\", 3, \"title\", \"click\"], [\"class\", \"col-md-12 flex center-x center-y\", 4, \"ngIf\"], [1, \"col-md-12\", \"flex\", \"center-x\", \"center-y\"], [1, \"col-md-4\", \"flex\", \"center-x\", \"center-y\"], [\"title\", \"Change character\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#chooseCharacter\", 1, \"portrait\", 3, \"src\", \"click\"], [1, \"col-md-4\"], [1, \"row\"], [\"for\", \"name\", 1, \"form-label\", \"px-0\"], [\"type\", \"text\", \"id\", \"name\", \"disabled\", \"\", \"name\", \"name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"for\", \"level\", 1, \"form-label\", \"px-0\"], [1, \"col-md-4\", \"pl-0\"], [\"type\", \"number\", \"id\", \"level\", \"title\", \"Current level\", \"name\", \"level\", \"max\", \"90\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"level\", \"ngModel\"], [1, \"col-md-4\", \"pl-0\", \"flex\", \"center-y\"], [1, \"fas\", \"arrow-right\"], [\"type\", \"number\", \"id\", \"tlevel\", \"title\", \"Target level\", \"name\", \"tlevel\", \"max\", \"90\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"tlevel\", \"ngModel\"], [\"for\", \"ascension\", 1, \"form-label\", \"px-0\"], [\"type\", \"number\", \"id\", \"ascension\", \"name\", \"ascension\", \"title\", \"Current ascension\", \"max\", \"6\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"ascension\", \"ngModel\"], [\"type\", \"number\", \"id\", \"tascension\", \"name\", \"tascension\", \"title\", \"Target ascension\", \"max\", \"6\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"tascension\", \"ngModel\"], [1, \"col-md-12\"], [\"for\", \"balevel\", 1, \"form-label\", \"px-0\"], [\"type\", \"number\", \"id\", \"balevel\", \"name\", \"balevel\", \"title\", \"Current basic attack level\", \"max\", \"10\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"balevel\", \"ngModel\"], [\"type\", \"number\", \"id\", \"tbalevel\", \"name\", \"tbalevel\", \"title\", \"Target basic attack level\", \"max\", \"10\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"tbalevel\", \"ngModel\"], [\"for\", \"eslevel\", 1, \"form-label\", \"px-0\"], [\"type\", \"number\", \"id\", \"eslevel\", \"name\", \"eslevel\", \"title\", \"Current elemental level\", \"max\", \"10\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"eslevel\", \"ngModel\"], [\"type\", \"number\", \"id\", \"teslevel\", \"name\", \"teslevel\", \"title\", \"Target elemental skill level\", \"max\", \"10\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"teslevel\", \"ngModel\"], [\"for\", \"eblevel\", 1, \"form-label\", \"px-0\"], [\"type\", \"number\", \"id\", \"eblevel\", \"name\", \"eblevel\", \"title\", \"Current burst level\", \"max\", \"10\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"eblevel\", \"ngModel\"], [\"type\", \"number\", \"id\", \"teblevel\", \"name\", \"teblevel\", \"title\", \"Target burst attack level\", \"max\", \"10\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"teblevel\", \"ngModel\"], [\"title\", \"Change weapon\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#chooseWeapon\", 1, \"portrait\", 3, \"src\", \"click\"], [\"type\", \"text\", \"id\", \"weapon\", \"disabled\", \"\", \"name\", \"weapon\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"weapon\", \"ngModel\"], [\"for\", \"wlevel\", 1, \"form-label\", \"px-0\"], [\"type\", \"number\", \"id\", \"wlevel\", \"title\", \"Current level\", \"name\", \"wlevel\", \"max\", \"90\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"wlevel\", \"ngModel\"], [\"type\", \"number\", \"id\", \"twlevel\", \"title\", \"Target level\", \"name\", \"twlevel\", \"max\", \"90\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"twlevel\", \"ngModel\"], [\"type\", \"number\", \"id\", \"wascension\", \"name\", \"wascension\", \"title\", \"Current ascension\", \"max\", \"6\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"wascension\", \"ngModel\"], [\"type\", \"number\", \"id\", \"twascension\", \"name\", \"twascension\", \"title\", \"Target ascension\", \"max\", \"6\", \"min\", \"1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"twascension\", \"ngModel\"]],\n    template: function CharacterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", null, 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function CharacterComponent_Template_button_click_6_listener() {\n          return ctx.removeCharacter();\n        });\n        i0.ɵɵelement(7, \"i\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 4)(9, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function CharacterComponent_Template_button_click_9_listener() {\n          return ctx.toggleCharacterDisplay();\n        });\n        i0.ɵɵelement(10, \"i\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 4)(12, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function CharacterComponent_Template_button_click_12_listener() {\n          return ctx.showCharacterWeapons();\n        });\n        i0.ɵɵelement(13, \"i\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(14, CharacterComponent_div_14_Template, 77, 12, \"div\", 10);\n        i0.ɵɵtemplate(15, CharacterComponent_div_15_Template, 35, 6, \"div\", 10);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngClass\", ctx.character.display ? \"eye\" : \"eye-slash\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"title\", ctx.weaponTitle);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.character.weaponMode ? \"user\" : \"weapon\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.character.weaponMode);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.character.weaponMode);\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i3.NgClass, i3.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i2.MaxValidator, i2.MinValidator, i2.NumberValueAccessor],\n    styles: [\".character[_ngcontent-%COMP%]{background-color:#212529;display:inline-block;margin:10px;padding:10px;border-radius:1rem}.character-card[_ngcontent-%COMP%]{position:relative}.controls[_ngcontent-%COMP%]{display:inline-block;position:absolute;padding:0;left:1rem;width:25px}.button-container[_ngcontent-%COMP%]{width:25px;height:25px;text-align:center}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#ffffff8c;padding:2px;border:none;background:none}.form-label[_ngcontent-%COMP%]{color:#ffffff8c;font-size:.8rem}.form-control[_ngcontent-%COMP%]{color:#fff;background:none;border:none;transition:none;padding-left:0;padding-right:0}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.portrait[_ngcontent-%COMP%]{max-width:7em;max-height:7em;cursor:pointer;position:absolute}.stat-row[_ngcontent-%COMP%]{display:inline-block}\"]\n  });\n  return CharacterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}